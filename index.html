<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>麻雀ゲーム</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <h1>麻雀ゲーム</h1>
        <div class="game-info">
            <div class="player-info">
                <span>プレイヤー: <span id="current-player">東</span></span>
                <span>残り牌: <span id="remaining-tiles">70</span></span>
            </div>
        </div>
        <canvas id="game-canvas" width="1200" height="800"></canvas>
        <div class="controls">
            <button id="new-game">新しいゲーム</button>
            <button id="win-button" style="display:none; margin-left: 8px;">アガリ</button>
        </div>
    </div>
    <script type="module">
      import { MahjongGame } from './mahjong.ts';
      import { calcYaku, YAKU_LIST } from './yaku.ts';
      // 役判定関数と役一覧をDIしてゲームを初期化
      // 画面描画が行われるように、DOMContentLoaded後にインスタンス化
      window.addEventListener('DOMContentLoaded', () => {
        // calcYaku は (tiles: Tile[]) => { yaku: string[]; han: number; yakuman: boolean } を返す想定
        new MahjongGame({ calcYaku, yakuList: YAKU_LIST });
      });
    </script>
</body>
</html>
